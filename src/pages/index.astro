---
import Layout from "../layouts/Layout.astro";
import Header from "../components/header-section/header.astro";
import Hero from "../components/hero-section/hero.astro";
import Features from "../components/features-section/Features.astro";
import "../styles/global.css";
import Services from "../components/service-section/services.astro";
import Process from "../components/process-section/process.astro";
import Whyus from "../components/whyus-section/Whyus.astro";
import Technology from "../components/technology-section/Technology.astro";
import Experience from "../components/experience-section/Experience.astro";
import Testimonial from "../components/testimonials-section/Testimonial.astro";
import Work from "../components/work/Work.astro";
// import Blog from "../components/blogs/Blog.astro";
import Contact from "../components/contact-section/contact.astro";
import Footer from "../components/footer-section/footer.astro";
import Scroll from "../components/scrollOnTop/Scroll.astro";
import Slider from "../components/slider/slider.jsx";
---

<Layout>
  <!-- <Slider client:only='react' /> -->
  <Header />
  <Hero />
  <Features />
  <Services />
  <Process />
  <Whyus />
  <Technology />
  <Experience />
  <Testimonial />
  <Work />
  <!-- <Blog /> -->
  <Contact />
  <Footer />
  <Scroll />
</Layout>

<script>
  // To show border animation on touch only.
  const featureCards = document.querySelectorAll(".card-animate-on-touch");
  featureCards.forEach((card) => {
    card.addEventListener("touchstart", (e) => {
      card.classList.add("feature-card-touch-active");
      card.classList.add("touch-shadow");
      removeClass(card);
    });
    // Commented: Because after touch start, it immediately after the touch end event fire the animation removed.
    // card.addEventListener("touchend", () => {
    //   console.log("start", card);
    //   card.classList.remove("feature-card-touch-active");
    // });
  });

  function removeClass(currentCard) {
    featureCards.forEach((card) => {
      if (currentCard !== card) {
        card.classList.remove("feature-card-touch-active");
      }
    });
  }

  const cards = document.querySelectorAll(".grayscale");

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("grayscale");

          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 1 },
  );

  cards.forEach((card) => observer.observe(card));
</script>
