---
import TopSection from "../top-section/Topsection.astro";
import TechnologyCard from "./TechnologyCard.astro";
// give the margin left and right in -ve.
const cards = [
  {
    src: "/Application-Monitoring.mp4",
    title: "Application Monitoring",
    content: `In a continuous delivery environment, constant application monitoring is essential for addressing issues in real time. Tools such as real-time error monitoring and performance monitoring services play a critical role in this process. They enable teams to identify and resolve problems quickly, ensuring that applications function smoothly and efficiently. By using these tools, organizations can enhance workflow efficiency, maintain high performance levels, and continuously improve the user experience. This proactive approach to monitoring helps prevent disruptions, optimize performance, and deliver a seamless, high-quality experience for users, ultimately contributing to overall success and satisfaction.`,
    width: "w-full sm:max-w-[385px] md:max-w-[384px] lg:max-w-[581px]",
    imgWidth: "",
    margin: "xl:-mr-[68px]!",
    height: "h-[390px] lg:h-[450px] xl:h-[505px]! first-video",
    cardHeight: "lg:h-[466px] xl:h-[521px]!",
  },
  {
    src: "/FrontEnd.mp4",
    title: "front-end",
    content: `We develop frontend solutions that deliver engaging user experiences through the use of cutting-edge technologies. Our focus is on creating high-performance client-side applications that operate seamlessly across various platforms and browsers. By leveraging the latest advancements in technology, we ensure that our solutions are not only visually appealing but also highly functional and responsive. Our commitment to excellence guarantees that users enjoy a smooth, consistent experience, regardless of the device or browser they use. This approach helps drive user satisfaction and enhances the overall effectiveness of the applications we build, ensuring they meet the highest standards of quality.`,
    width: "w-full sm:max-w-[385px] md:max-w-[329px] lg:max-w-[523px]",
    margin: "lg:-ml-3",
    cardHeight: "lg:h-[466px] xl:h-[376px] xl:h-[521px]!",
  },

  {
    src: "/MobileApp.mp4",
    title: "mobile app",
    content: `We leverage the power of cross-platform technologies to develop mobile applications that deliver exceptional performance and user experience. Utilizing these technologies, we create cross-platform native applications that offer a consistent and high-quality experience across both iOS and Android devices. Our approach ensures that applications are not only visually appealing but also function optimally on various platforms. This consistency allows users to enjoy a smooth and engaging experience, regardless of their device, while enabling us to efficiently manage and maintain the app across different operating systems. Our commitment is to deliver superior applications that meet and exceed user expectations.`,
    width: "w-full sm:max-w-[385px] md:max-w-[329px] lg:max-w-[523px]",
    cardHeight: "lg:h-[466px] xl:h-[376px] xl:h-[521px]!",
  },
  {
    src: "/BackEnd.mp4",
    title: "back end",
    content: `We provide tailored backend solutions for both simple and complex applications, adapting to diverse use cases with precision. Our approach involves utilizing high-performance, scalable, and secure technologies to ensure robust backend infrastructure. By selecting and integrating the most suitable technologies, we build backend systems that not only meet your specific requirements but also grow with your needs. Our commitment to performance, scalability, and security ensures that your applications run smoothly, handle increasing loads efficiently, and protect sensitive data. This comprehensive backend development strategy supports seamless functionality and reliability, contributing to the overall success of your application.`,
    width: "w-full sm:max-w-[385px] md:max-w-[329px] lg:max-w-[523px]",
    cardHeight: "lg:h-[466px] xl:h-[398px] xl:h-[521px]!",
  },
];
const topSectionContent = {
  heading: "Technologies We",
  word: "Use?",
  para: `We leverage cutting-edge technologies to deliver innovative,
      high-performance solutions that drive success and exceed your expectations`,
  btnText: "Technologies",
};
---

<section
  class='flex flex-col items-center gap-10 lg:gap-26 max-w-480 mx-auto px-5 md:px-10 pt-15 lg:pt-30 xl:px-20!'
>
  <TopSection
    {...topSectionContent}
    wrap='text-nowrap'
  />
  <div
    class='w-full h-full flex flex-col justify-center gap-12 md:gap-6 lg:gap-0'
  >
    {
      cards.map((data, index) => {
        return (
          <TechnologyCard
            {...data}
            reverse={index & 1}
            index={index}
          />
        );
      })
    }
  </div>
</section>
<style>
  @media screen and (width: 1024px) {
    section {
      padding-top: 90px;
    }
    .card-height {
      height: 376px;
    }
  }
</style>
<script>
  const videos = document.querySelectorAll(".tech-video");
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        const video = entry.target as HTMLVideoElement;

        if (entry.isIntersecting) {
          video.play();
        } else {
          video.pause();
        }
      });
    },
    {
      threshold: 0.5,
    },
  );
  const cards = document.querySelectorAll(".video-container");
  cards.forEach((card) => {
    card.children[0].addEventListener("mouseenter", (e: any) => {
      e?.target?.play();
    });
    card.children[0].addEventListener("touchstart", (e: any) => {
      e?.target?.play();
    });
    card.children[0].addEventListener("ended", (e: any) => {
      e?.target?.pause();
    });
  });

  videos.forEach((video) => {
    observer.observe(video);
  });
</script>
