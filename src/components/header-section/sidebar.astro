---
import { GoArrowUpRight } from "react-icons/go";
import ServicesDropdown from "./servicesDropdown.astro";
---

<div
  class='sidebar fixed bg-[#151515] overflow-auto sm:w-full z-10 transition-all sm:h-[calc(100vh-100px)] h-[calc(100vh-75px)] sm:top-[100px] top-[75px] bottom-0 -left-full w-full z-[9999] px-[31px] pt-[24px] lg:hidden'
>
  <a
    href='/'
    class='w-full px-4 py-4 sm:px-10 text-white block font-semibold text-[14px] h-[52px] flex items-center'
    >Home</a
  >
  <div>
    <a
      class='w-full px-4 md:py-4 sm:px-10 block text-[14px] h-[52px] flex justify-between items-center text-white'
      >Services
      <div class='down-arrow'>
        <svg
          width='9'
          height='14'
          viewBox='0 0 9 14'
          fill='none'
          xmlns='http://www.w3.org/2000/svg'
          class='stroke-white transition-all'
          ><path
            d='M1.66846 1L7.66846 7L1.66846 13'
            stroke-width='1.5'
            stroke-linecap='round'
            stroke-linejoin='round'
          ></path></svg
        >
      </div>
    </a>
    <ServicesDropdown />
  </div>
  <a
    href='/'
    class='w-full px-4 py-4 sm:px-10 text-white block text-[14px] h-[52px] sm:h-[72px] flex items-center'
    >About us</a
  >

  <div
    class='py-0 px-5 mt-[22px] xl:px-6 h-[48px] xl:h-[55px] flex md:hidden items-center rounded-full bg-[#E68624] cursor-pointer transition-all dark-bg duration-700 hover:[backdrop-filter:blur(100px)] dark-btn-shadow'
  >
    <button
      class='w-full h-full font-[14px] font-medium text-[14px] xl:text-[16px] flex justify-center text-white items-center gap-1'
    >
      Get In Touch <GoArrowUpRight size={16} />
    </button>
  </div>
</div>

<script>
  const arrow = document.querySelectorAll(".down-arrow");
  arrow.forEach((item) => {
    item?.addEventListener("click", () => {
      // anchor tag to make color white when hover or open
      item.parentElement?.parentElement?.children[0].children[0].classList.toggle(
        "text-white",
      );
      const content = item.parentElement?.parentElement?.children[1];
      content?.classList.toggle("hidden");
      item.classList.toggle("rotate-90");
    });
  });
</script>
